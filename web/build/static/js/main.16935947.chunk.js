(this["webpackJsonpqueer-burners"]=this["webpackJsonpqueer-burners"]||[]).push([[0],{108:function(e,t,a){var n={"./social_email.svg":66,"./social_facebook.svg":109,"./social_instagram.svg":110,"./social_twitter.svg":111,"./social_www.svg":65};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=108},109:function(e,t,a){e.exports=a.p+"static/media/social_facebook.51d5c4a3.svg"},110:function(e,t,a){e.exports=a.p+"static/media/social_instagram.76090faf.svg"},111:function(e,t,a){e.exports=a.p+"static/media/social_twitter.abfbd4d9.svg"},115:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),o=a.n(l),i=(a(80),a(68)),c=a.n(i),s=a(52),m=a(23),u=a(28),p=a.n(u),d=a(34),f=a(35),h=a(36),g=a(44),b=a(43),E=a(33),y=a(38),v=a(5),k=a(25),w=a(16),x=a(10),_=a(17),C=(new Date).getFullYear(),j=a(26),I=a(37),T=a.n(I),L=Object(E.a)(a(26).campIdentifications),O=Object(E.a)(a(26).streets),S=a(26).crossStreets,F=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).submitHandler=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r,l,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t.preventDefault(),n.setState({_validated:!0}),a={year:C},n.state)r.startsWith("_")||(a[r]=n.state[r],"string"===typeof a[r]&&(a[r]=a[r].trim()));l=0,o=["name","about","url","facebook","email","twitter","instagram"];case 5:if(!(l<o.length)){e.next=12;break}if(i=o[l],n.fieldValidator(i,a[i])){e.next=9;break}return e.abrupt("return",null);case 9:l++,e.next=5;break;case 12:return console.log("submitting"),console.log(JSON.stringify(a)),e.prev=14,e.next=17,T.a.post("https://l374cc62kc.execute-api.us-east-2.amazonaws.com/Prod/camps",a);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(14),console.error(e.t0),console.error(e.t0.response);case 23:case"end":return e.stop()}}),e,null,[[14,19]])})));return function(t){return e.apply(this,arguments)}}(),n.fieldValidator=function(e,t){var a=Object(j.fieldError)(e,t);return n.setState(Object(m.a)({},"_error_"+e,a)),document.getElementById(e).setCustomValidity(a),""===a},n.fileUploader=function(e){0===e.target.files.length?n.setState({thumbnail:"",_thumbnail_file:null}):(n.setState({thumbnail:e.target.files[0].name,_thumbnail_file:e.target.files[0]}),console.log("Trying to upload"),(new FormData).append("file",e.target.files[0]))},n.changeHandler=function(e){var t,a=e.target.name.split("."),r=a[0];switch(e.target.type){case"checkbox":t=e.target.checked;break;default:t=e.target.value}if(1===a.length)n.setState((function(e,a){return Object(m.a)({},r,t)}));else if(2===a.length){var l=a[1];n.setState((function(e,a){return Object(m.a)({},r,Object(s.a)(Object(s.a)({},e[r]),{},Object(m.a)({},l,t)))}))}"location"===r&&a[1],n.fieldValidator(e.target.name,t)},n.state={name:"",identifies:L[0],about:"",location:{frontage:O[0],intersection:O[0]},url:"",facebook:"",email:"",twitter:"",instagram:"",thumbnail:"",_validated:!1,_error_name:null,_error_about:null,_error_url:null,_error_facebook:null,_error_email:null,_error_twitter:null,_error_instagram:null,_thumbnail_file:null},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(x.a,{style:{marginTop:"2rem",marginBottom:"1rem"}},r.a.createElement("h2",null,"Submit your camp to the Queer Burners directory!"))),r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement("p",null,"To add your theme camp to this directory, please fill out this form."),r.a.createElement(v.a,{noValidate:!0,validated:this.state._validated,onSubmit:this.submitHandler},r.a.createElement(w.a,null,r.a.createElement(x.a,{xs:7},r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement(v.a.Label,null,"Camp Name"),r.a.createElement(v.a.Control,{type:"input",placeholder:"404 Camp Not Found",name:"name",value:this.state.name,onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_name),r.a.createElement(v.a.Text,{className:"text-muted"},"If your camp is registered with placement, make sure this name matches exactly."))),r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"identifies"},r.a.createElement(v.a.Label,null,"Identification"),r.a.createElement(v.a.Control,{as:"select",name:"identifies",value:this.state.identifies,onChange:this.changeHandler},L.map((function(e){return r.a.createElement("option",{key:e},e)})))))),r.a.createElement(v.a.Group,{controlId:"about"},r.a.createElement(v.a.Label,null,"About your camp"),r.a.createElement(v.a.Control,{as:"textarea",rows:"3",placeholder:"Max 255 characters",name:"about",onChange:this.changeHandler,value:this.state.about}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_about)),r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"location.frontage"},r.a.createElement(v.a.Label,null,"Frontage"),r.a.createElement(v.a.Control,{name:"location.frontage",as:"select",onChange:this.changeHandler,value:this.state.location.frontage},O.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement(v.a.Text,{className:"text-muted"},"The street that your camp faces"))),r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"location.intersection"},r.a.createElement(v.a.Label,null,"Intersection"),r.a.createElement(v.a.Control,{name:"location.intersection",as:"select",onChange:this.changeHandler,value:this.state.location.intersection},S(this.state.location.frontage).map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement(v.a.Text,{className:"text-muted"},"The nearest cross-street")))),r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"url"},r.a.createElement(v.a.Label,null,"Public web site"),r.a.createElement(v.a.Control,{type:"input",name:"url",value:this.state.url,placeholder:"https://www.example.com",onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_url),r.a.createElement(v.a.Text,{className:"text-muted"},"Your camp's public website, if any. Do not use a Facebook URL here"))),r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"facebook"},r.a.createElement(v.a.Label,null,"Facebook"),r.a.createElement(v.a.Control,{type:"input",name:"facebook",value:this.state.facebook,placeholder:"https://www.facebook.com/campname",onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_facebook),r.a.createElement(v.a.Text,{className:"text-muted"},"Your camp's public Facebook page or group, if any. Provide the full URL")))),r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"email"},r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{type:"input",name:"email",value:this.state.email,placeholder:"info@example.com",onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_email),r.a.createElement(v.a.Text,{className:"text-muted"},"Public email address for inquiries (this will be visible in the directory to anyone!)"))),r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"twitter"},r.a.createElement(v.a.Label,null,"Twitter"),r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"@")),r.a.createElement(v.a.Control,{type:"input",name:"twitter",value:this.state.twitter,placeholder:"example",onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_twitter)),r.a.createElement(v.a.Text,{className:"text-muted"},"Your Twitter feed, if any"))),r.a.createElement(x.a,null,r.a.createElement(v.a.Group,{controlId:"instagram"},r.a.createElement(v.a.Label,null,"Instagram"),r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"@")),r.a.createElement(v.a.Control,{type:"input",name:"instagram",value:this.state.instagram,placeholder:"example",onChange:this.changeHandler}),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state._error_instagram)),r.a.createElement(v.a.Text,{className:"text-muted"},"Your Instagram feed, if any")))),r.a.createElement(v.a.Group,{controlId:"thumbnail"},r.a.createElement(v.a.Label,null,"Upload a picture of your camp here"),r.a.createElement(v.a.File,{name:"thumbnail",label:this.state.thumbnail,custom:!0,onChange:this.fileUploader}),r.a.createElement(v.a.Text,{className:"text-muted"},"This picture will appear in the Queer Burners directory. Submit a picture of your campers, your frontage, or something else fun, but please keep it SFW!")),r.a.createElement(v.a.Group,{controlId:"join.open"},r.a.createElement(v.a.Label,null,"Are you open to new members?"),r.a.createElement(v.a.Check,{type:"switch",name:"join.open",label:"Yes",onChange:this.changeHandler})),r.a.createElement(v.a.Group,{controlId:"join.message"},r.a.createElement(v.a.Label,null,"Instructions"),r.a.createElement(v.a.Control,{as:"textarea",rows:"3",name:"join.message",placeholder:"Max 255 characters",onChange:this.changeHandler}),r.a.createElement(v.a.Text,{className:"text-muted"},"Provide brief instructions for people who are interested in joining your camp. What should they do next?")),r.a.createElement(_.a,{variant:"primary",type:"submit"},"Submit"))))))}}]),a}(r.a.Component),N=a(73),G=a(72),z=a(24),H=a(71),A=a(30),B=a(49),R=a(74),U=a(48);function P(e){var t=e.o;if(t.join&&t.join.open){var a=r.a.createElement(B.a,{id:"popover-basic"},r.a.createElement(B.a.Title,{as:"h3"},"Join our camp!"),r.a.createElement(B.a.Content,null,t.join.message));return r.a.createElement(R.a,{trigger:"click",placement:"top",overlay:a},r.a.createElement(_.a,{variant:"outline-info",size:"sm",style:{marginLeft:"1rem"}},"Join Us!"))}return null}function D(e){if(e.url){var t=e.url.replace(/^https?:\/\//,"").replace(/\/$/,"");return r.a.createElement("div",null,r.a.createElement(U.a,{src:a(65),style:{width:"1.3rem",paddingRight:".35rem"}}),r.a.createElement("a",{href:e.url},t))}return null}function Y(e){return e.email?r.a.createElement("div",{style:{marginBottom:"1rem"}},r.a.createElement(U.a,{src:a(66),style:{width:"1.3rem",paddingRight:".35rem"}}),r.a.createElement("a",{href:"mailto:"+e.email},e.email)):null}var $=function(e){var t=e.o;return r.a.createElement(A.a,{style:{width:"20rem"},bg:"light"},r.a.createElement(A.a.Header,null,r.a.createElement("span",{style:{fontSize:"1.2rem",fontWeight:"bolder"}},t.name),r.a.createElement(P,{o:t})),r.a.createElement(A.a.Body,null,r.a.createElement(A.a.Subtitle,{className:"mb-2 text-muted"},t.identifies,t.location&&t.location.string&&r.a.createElement("div",null,t.location.string)),r.a.createElement(A.a.Text,null,t.about),r.a.createElement(D,{url:t.url}),r.a.createElement(Y,{email:t.email}),["facebook","instagram","twitter"].map((function(e){if(!t[e])return null;var n=t[e];return"twitter"!==e&&"instagram"!==e||(n="https://".concat(e,".com/").concat(n)),r.a.createElement("a",{href:n,key:e},r.a.createElement(U.a,{src:a(108)("./social_"+e+".svg"),style:{width:"1.8rem",paddingRight:".35rem"}}))}))))},J=a(20),M=Object(E.a)(a(26).campIdentifications),W=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={filter:"all",data:null,year:e.year&&e.year>=1996&&e.year<3e3?e.year:C},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://l374cc62kc.execute-api.us-east-2.amazonaws.com/Prod/camps/"+this.state.year);case 3:t=e.sent,this.setState({data:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.filter;return"all"===this.state.filter&&(t="Filter"),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(x.a,{style:{marginTop:"2rem",marginBottom:"1rem"}},r.a.createElement("h2",null,"Camp Directory ",this.state.year,r.a.createElement(J.b,{to:"/submit"},r.a.createElement(_.a,{size:"sm",variant:"outline-success",style:{marginLeft:"2rem"}},"Submit your camp!")),r.a.createElement(H.a,{as:G.a,id:"dropdown-basic-button",title:t,size:"sm",style:{marginLeft:"2rem"}},M.map((function(t){return r.a.createElement(z.a.Item,{key:t,onClick:function(){return e.setState({filter:t})}},t)})),r.a.createElement(z.a.Item,{onClick:function(){return e.setState({filter:"Seeking new members"})}},"Seeking new members")),"all"!==this.state.filter&&r.a.createElement(_.a,{size:"sm",variant:"outline-primary",style:{marginLeft:".5rem"},onClick:function(){return e.setState({filter:"all"})}},"Clear Filter")))),r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(N.a,null,this.state.data?this.state.data.filter((function(t){return"all"===e.state.filter||"Seeking new members"===e.state.filter&&t.join&&t.join.open||e.state.filter===t.identifies})).map((function(e){return r.a.createElement($,{o:e,key:e.year+" "+e.name})})):r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))))))}}]),a}(r.a.Component),Z=(a(115),function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement(J.b,{to:"/"},r.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"})))});function q(e){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),r.a.createElement(W,{year:e.year}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(116);var Q=a(7);o.a.render(r.a.createElement(J.a,null,r.a.createElement(Q.a,{exact:!0,path:"/",component:q}),r.a.createElement(Q.a,{path:"/submit",component:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),r.a.createElement(F,null))}}),r.a.createElement(Q.a,{path:"/year/:year",component:function(e){return r.a.createElement(q,{year:e.match.params.year})}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){var n=a(82),r=function(e,t){var a="";switch(e){case"year":"number"!==typeof t?a="Year is not a number":(t<2018||t>2199)&&(a="Year out of range");break;case"name":"string"!==typeof t?a="Camp name is not a string":0===t.length?a="Camp name is required":t.length>50&&(a="Camp name is too long by ".concat(t.length-50));break;case"identifies":"string"!==typeof t?a="identifies is not a string":""===t?a="identifies is required (try LGBTQ)":s.includes(t)||(a="".concat(t," is not a valid camp identity (try LGBTQ)"));break;case"about":"string"!==typeof t?a="about is not a string":t.length>255&&(a="about is too long by ".concat(t.length-255));break;case"location":"object"===typeof t&&t.frontage&&t.intersection&&"string"===typeof t.frontage&&"string"===typeof t.intersection||(a="type error - location should be an object with frontage and intersection strings");break;case"url":"string"!==typeof t?a="url is not a string":""===t?a="":t.length>128?a="url is too long by ".concat(t.length-128):i(t)?c(t)&&(a="use the Facebook field for a Facebook page"):a="invalid url";break;case"facebook":"string"!==typeof t?a="facebook is not a string":""===t?a="":t.length>128?a="facebook is too long by ".concat(t.length-128):i(t)?c(t)||(a="".concat(t," is not a Facebook page/group")):a="invalid facebook url";break;case"email":"string"!==typeof t?a="email is not a string":t.length>256?a="email is too long by ".concat(t.length-256):t.length>0&&!o(t)&&(a="'".concat(t,"' is not a valid email address"));break;case"twitter":"string"!==typeof t?a="twitter is not a string":t.length>15?a="twitter is too long by ".concat(t.length-15):/^[a-z0-9]*$/i.test(t)||(a="invalid twitter name");break;case"instagram":"string"!==typeof t?a="instagram is not a string":t.length>30?a="instagram is too long by ".concat(t.length-30):/^[a-z0-9._]*$/i.test(t)||(a="invalid instagram handle")}return a},l=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,o=function(e){if(!e)return!1;if(e.length>256)return!1;if(!l.test(e))return!1;var t=e.split("@"),a=n(t,2),r=a[0],o=a[1];return!(r.length>64)&&!o.split(".").some((function(e){return e.length>63}))},i=function(e){var t;try{t=new URL(e)}catch(a){return!1}return"http:"===t.protocol||"https:"===t.protocol},c=function(e){var t;try{t=new URL(e)}catch(a){return!1}return["facebook.com","www.facebook.com","m.facebook.com"].includes(t.hostname)},s=["LGBTQ","Lesbian / Female Identified","Gay / Male Identified","Trans / GNC / Non-binary","Ally Camp"],m=["Unknown","Esplanade","A","B","C","D","E","F","G","H","I","J","K","L","M","Rod's Road","Center Camp Plaza","2:00","2:15","2:30","2:45","3:00","3:15","3:30","3:45","4:00","4:15","4:30","4:45","5:00","5:15","5:30","5:45","6:00","6:15","6:30","6:45","7:00","7:15","7:30","7:45","8:00","8:15","8:30","8:45","9:00","9:15","9:30","9:45","10:00"];e.exports={fieldError:r,campErrors:function(e){var t=[];return["year","name","identifies","about","location","url","facebook","email","twitter","instagram"].map((function(a){var n=r(a,e[a]);""!==n&&t.push({field:a,err:n})})),t},campIdentifications:s,streets:m,crossStreets:function(e){return e===m[0]?[m[0]]:e.includes(":")?m.filter((function(e){return"Esplanade"===e||1===e.length})):m.filter((function(e){return e.includes(":")}))},locationToString:function(e,t){return e===m[0]?m[0]:"Rod's Road"===e||"Center Camp Plaza"===e?"".concat(e," @ ").concat(t):"".concat(e," & ").concat(t)}}},65:function(e,t,a){e.exports=a.p+"static/media/social_www.f83690ad.svg"},66:function(e,t,a){e.exports=a.p+"static/media/social_email.fb4433e3.svg"},68:function(e,t,a){e.exports=a.p+"static/media/header_logo.859a41ad.png"},75:function(e,t,a){e.exports=a(117)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.16935947.chunk.js.map