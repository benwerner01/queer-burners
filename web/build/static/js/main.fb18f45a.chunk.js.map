{"version":3,"sources":["assets/social_www.svg","assets/social_email.svg","assets/header.jpg","assets sync /^/.//social_.*/.svg$","assets/social_facebook.svg","assets/social_instagram.svg","assets/social_twitter.svg","components/PrivacyBody.js","components/FAQ.js","definitions.js","components/CampCard.js","components/DirectoryBody.js","components/Authenticate.js","components/SubmitBody.js","components/Header.js","components/Footer.js","components/ScrollToTop.js","serviceWorker.js","index.js","../../shared/index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","PrivacyBody","Container","className","Row","Col","href","FAQ","defaultYear","Date","getFullYear","api","s3images","JoinButton","props","joinOpen","popover","Popover","Title","as","Content","joinMessage","joinUrl","OverlayTrigger","trigger","placement","overlay","Button","variant","size","style","marginLeft","DisplayURL","url","strippedURL","replace","Image","src","require","width","paddingRight","DisplayEmail","email","marginBottom","Lightbox","Modal","show","dialogClassName","onHide","setShow","Header","closeButton","name","Body","padding","image","fluid","about","length","Footer","justifyContent","CampCard","useState","showLightbox","setShowLightbox","fullSizeImage","centered","Card","bg","border","ismine","thumbnail","Img","role","onClick","fontSize","fontWeight","Subtitle","identifies","location","string","Text","s","key","offerShowers","Tooltip","aria-label","offerWater","offerMeals","campFee","virginsWelcome","to","year","encodeURIComponent","isadmin","contact","CancelToken","axios","campIdentifications","neighborhood","camp","s430","s730","includes","frontage","intersection","DirectoryBody","onSearchChange","event","setState","search","target","value","state","filter","data","cancelFn","clearFirst","this","get","auth","username","userData","idToken","password","cancelToken","c","response","isCancel","console","error","fetchData","prevProps","isAdmin","filterButtonString","md","Form","inline","type","disabled","display","aria-hidden","DropdownButton","ButtonGroup","title","marginRight","Dropdown","Item","InputGroup","FormControl","autoFocus","placeholder","onChange","Append","CardColumns","onecamp","toLowerCase","startsWith","hashEmail","text","textDecoration","React","Component","LogonLink","LogonLinkAddress","useLocation","link","oauthEndpoint","pathname","window","origin","localStorage","getItem","Authenticate","useEffect","isLoggedOn","tmpUserData","JSON","parse","expires","valueOf","OnUserDataChange","interval","setInterval","removeItem","clearInterval","roundedCircle","imageUrl","NavDropdown","alignRight","fullName","setItem","Nav","Link","PostAuthenticate","status","setStatus","setIsLoggedOn","a","post","URLSearchParams","redirect_uri","result","Number","duration","stringify","queryParams","Spinner","animation","streets","crossStreets","SubmitBody","submitHandler","preventDefault","_validated","_error_submit","_submit_in_progress","trim","fieldsToValidate","push","x","fieldValidator","_submit_successful","msg","request","message","err","fieldError","document","getElementById","setCustomValidity","changeHandler","y","splitname","split","checked","xx","emptyCamp","_error_name","_error_about","_error_url","_error_facebook","_error_email","_error_twitter","_error_instagram","_error_joinMessage","_error_joinUrl","_ready_to_show_form","originalName","log","noValidate","validated","onSubmit","Instructions","xs","Group","controlId","Label","Control","Feedback","rows","facebook","Prepend","twitter","instagram","Check","label","backgroundColor","Alert","dismissible","onClose","Heading","NotLoggedIn","ImageUploader","objectUrl","setObjectUrl","userFilename","setUserFilename","uploadProgress","setUploadProgress","needsScroll","setNeedsScroll","imageEl","useRef","setTimeout","current","scrollIntoView","block","behavior","startUpload","files","actualFile","ext","uploader","reader","FileReader","onload","binary","atob","array","i","charCodeAt","blobData","Blob","Uint8Array","contentType","put","headers","onUploadProgress","pe","lengthComputable","Math","floor","loaded","total","URL","createObjectURL","fileName","readAsDataURL","File","custom","accept","ProgressBar","striped","now","ref","DeleteButton","done","setDone","alertEl","marginTop","delete","Navbar","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","banner","alt","withRouter","history","unlisten","listen","scrollTo","Boolean","hostname","match","TopLevelComponent","setUserData","newUserData","exact","path","render","params","component","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","crypto","validateURL","isFacebookURL","validateEmail","test","tester","account","address","some","part","_","protocol","campErrors","errors","f","field","locationToString","hash","createHash","update","digest"],"mappings":"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","file":"static/js/main.fb18f45a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/social_www.f83690ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_email.fb4433e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/header.8c56eeaa.jpg\";","var map = {\n\t\"./social_email.svg\": 145,\n\t\"./social_facebook.svg\": 223,\n\t\"./social_instagram.svg\": 224,\n\t\"./social_twitter.svg\": 225,\n\t\"./social_www.svg\": 144\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 222;","module.exports = __webpack_public_path__ + \"static/media/social_facebook.51d5c4a3.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_instagram.76090faf.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_twitter.abfbd4d9.svg\";","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nexport const PrivacyBody = () => (\n  <Container className=\"qb-textpage\">\n    <Row>\n      <Col>\n        <h1>Privacy Policy</h1>\n\n        <p>Last updated: June 27, 2020</p>\n\n        <h3>WHAT THIS POLICY COVERS</h3>\n        <p>\n          This policy covers personal information that Queer Burners receives\n          when you use the queerburnersdirectory.com website (“our Site”).\n        </p>\n        <p>\n          “Personal information” is information that can be linked to you as an\n          individual, such as your name, address, email address, or phone\n          number. By visiting our Site, you are accepting the practices\n          described in this privacy policy.\n        </p>\n        <p>\n          If you are under 16, you must ask your parent or guardian for their\n          permission before sending any information to us or asking us to email\n          you, and by visiting our Site and/or sending any information to us,\n          you are confirming that your parent or guardian has consented to you\n          doing so.\n        </p>\n        <p>This privacy policy is intended to give you information about:</p>\n        <ul>\n          <li>\n            The personal information that is collected or processed when you use\n            our Site;\n          </li>\n          <li>How your personal information is used and protected;</li>\n          <li>Your rights to your personal information; and</li>\n          <li>\n            How to contact us to exercise your rights regarding your personal\n            information.\n          </li>\n        </ul>\n        <h3>INFORMATION YOU KNOWINGLY GIVE TO US</h3>\n        <p>\n          We receive and may store any personal information you actively send us\n          or enter on our Site. You provide such information when you interact\n          with our Site in a number of different ways, including without\n          limitation:\n        </p>\n        <ul>\n          <li>\n            Submitting or editing information about a camp to the Queer Burners\n            Directory, or\n          </li>\n          <li>Sending us email.</li>\n        </ul>\n        <h3>INFORMATION THAT IS AUTOMATICALLY COLLECTED BY OUR SYSTEM</h3>\n        <p>\n          We receive and store certain types of information whenever you\n          interact with us through our Site. We do not currently use cookies to\n          identify your session and to synchronize your responses to one form\n          with other relevant forms, but we may do so in the future. You can\n          configure your browser to reject cookies.\n        </p>\n\n        <h3>WHAT WE DO WITH YOUR PERSONAL INFORMATION</h3>\n        <p>\n          We use the personal information that we receive to operate our Site,\n          to produce Queer Burners events, and for other projects in support of\n          our mission. Your personal information may be stored on our systems.\n          We do not rent or sell your personal information to any other entity.\n          We do not share your personal information with any other entity,\n          except when:\n        </p>\n        <ul>\n          <li>We have your permission;</li>\n          <li>\n            We must respond to a subpoena, court order, or other legal process;\n          </li>\n          <li>\n            We must exercise our legal rights, protect our property, defend\n            against legal claims, or otherwise comply with the law; or\n          </li>\n          <li>\n            We believe it is appropriate in order to investigate, prevent, or\n            take action regarding suspected illegal activities, fraud, threats\n            to personal safety, or violation of our Site’s terms of use.\n          </li>\n        </ul>\n        <p>\n          Queer Burners and/or our affiliates may at times contact you at your\n          email address to keep you informed about events and other Queer\n          Burners-related opportunities. Should you not wish to receive such\n          communications, you may opt out by following the instructions in the\n          communication. If Queer Burners is acquired or transferred, or changes\n          entity status, the personal information maintained on our systems will\n          be among the transferred assets but will remain subject to the Queer\n          Burners privacy policy in existence at the time of the acquisition or\n          transfer.\n        </p>\n        <p>\n          You can contact us at the address provided below to request access to\n          the personal information on our Site. You can edit personal\n          information on any camps that you have submitted to the directory by\n          logging in and manually editing those camps. You can also delete your\n          camp, either directly within the camp listing or by sending us an\n          email that specifies the account or other data that you would like\n          deleted. For technical reasons, the information that you have\n          voluntarily shared in public submissions to our Site may remain\n          visible to users of our Site even after the deletion of the associated\n          account.\n        </p>\n        <h3>CONFIDENTIALITY AND SECURITY</h3>\n        <p>\n          The only people who have access to personal information collected on\n          our Site have a need to know this information and are bound by\n          nondisclosure agreements and this privacy policy. We have physical,\n          electronic, and procedural safeguards in place to protect the personal\n          information that we collect and store.\n        </p>\n        <p>\n          You understand, however, that whenever you submit a camp listing, your\n          submission will be made public on the Site. We are not responsible for\n          the use of any personal information that you or others choose to post\n          publicly. You may be identified as the author of any posted expressive\n          content unless you instruct us otherwise.\n        </p>\n        <p>\n          We will identify your public submissions to our Site by the contact\n          information you include in the camp listing, and will not disseminate\n          any other registration information without your authorization. If you\n          contact other users of our Site by email, your personal information\n          may be included in the header, as with any email.\n        </p>\n        <p>\n          In general, we cannot guarantee your anonymity whenever you interact\n          with our Site.\n        </p>\n        <p>\n          Please note that our Site may contain links to third-party websites.\n          These third-party websites may send their own cookies to collect data\n          and solicit personal information. Therefore, we cannot guarantee your\n          privacy when visiting such third-party sites, nor the accuracy or\n          acceptability of any services provided by such third parties.\n        </p>\n        <h3>CHANGES TO THIS PRIVACY POLICY</h3>\n        <p>\n          We may update this policy from time to time. When any significant\n          changes are made to this policy, we will post a notification in a\n          prominent place on this website so that you may be made aware of the\n          changes. This notification will appear the first time you log on to\n          this website following a significant change in this policy.\n        </p>\n\n        <h1>Contact Us</h1>\n        <p>\n          If you have any questions about this Privacy Policy, You can contact\n          us:\n        </p>\n        <ul>\n          <li>\n            By email:{\" \"}\n            <a href=\"mailto:info@queerburners.com\">info@queerburners.com</a>\n          </li>\n        </ul>\n      </Col>\n    </Row>\n  </Container>\n);\n\nexport default PrivacyBody;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nexport const FAQ = () => (\n  <Container className=\"qb-textpage\">\n    <Row>\n      <Col>\n        <h1>Queer Burners Directory FAQ</h1>\n\n        <p>Last updated: June 27, 2020</p>\n\n        <h3>WHAT'S THIS SITE ABOUT?</h3>\n        <p>\n          The Queer Burners Directory is an online directory of Burning Man\n          Theme camps that broadly identify as LGBTQ+ or Ally. It is updated\n          every year with content submitted by the theme camps themselves. We\n          have no affiliation, official or otherwise, with the Burning Man\n          project.\n        </p>\n        <ul>\n          <li>\n            <a href=\"https://burningman.org/\">\n              Learn more about Burning Man here\n            </a>\n          </li>\n          <li>\n            Learn about{\" \"}\n            <a href=\"https://burningman.org/event/camps/\">Theme Camps</a>\n          </li>\n        </ul>\n        <p>\n          This site is a project of{\" \"}\n          <a href=\"http://queerburners.com\">Queer Burners</a>. This project\n          started its mission in 2008 to create a means of LGBTQ+ Burning Man\n          participants to connect and collaborate.\n        </p>\n\n        <h3>CAN I SUBMIT MY CAMP?</h3>\n        <p>\n          We welcome submissions from LGBTQ+ camps and Allies that plan to\n          attend Burning Man in 2021. You do not have to be officially placed\n          through Placement to appear in the directory. However, we do reserve\n          the right to remove camps that do not have enough of an LGBTQ+ theme\n          or participant base in order to keep the directory useful.\n        </p>\n\n        <h3>MY CAMP IS IN THE DIRECTORY, HOW CAN I EDIT IT?</h3>\n        <p>\n          To edit a camp you must login using a Google Account that has the same\n          email address that you originally used to submit the camp. If your\n          camp appeared in the 2019 directory, you can still edit that camp as\n          long as your email address is the same.\n        </p>\n        <p>\n          If you do not have access to edit your camp, but can prove that you\n          are the TCO or otherwise the primary contact responsible for the camp,\n          please contact us and we'll sort it out.\n        </p>\n\n        <h3>WE WERE A CAMP IN 2019, BUT ARE NOT IN THE DIRECTORY</h3>\n        <p>\n          Please go ahead and submit information about your camp anyway. It will\n          appear as a 2021 camp. Then contact us at the email below and we will\n          move it to 2019.\n        </p>\n\n        <h3>WE WERE A CAMP IN 2019, AND WANT TO APPEAR IN 2021 TOO</h3>\n        <p>\n          Starting on January 1, 2021, we will provide a feature to\n          automatically re-submit your camp with the same (or updated) details.\n        </p>\n\n        <h3>WHO THE HECK ARE YOU?</h3>\n        <p>\n          This site was coded by Joel Spolsky, TCO of the{\" \"}\n          <a href=\"https://futureturtles.com\">Future Turtles</a> (previously\n          known as the Gay Turtles). It is the responsibility of the{\" \"}\n          <a href=\"https://www.facebook.com/groups/queerburnersleadershipnetwork/\">\n            Queer Burner Leadership Network (QBLN)\n          </a>\n          , primarily the Comms Team. We welcome volunteers from the community\n          and are actively looking to get more people involved, and especially\n          need some diversity in our ranks. Be a part of the future by helping\n          develop tools and programming for a better and stronger burner LGBTQ+\n          community!\n        </p>\n\n        <h1>Contact Us</h1>\n        <p>If you have any questions about this site, you can contact us:</p>\n        <ul>\n          <li>\n            By email:{\" \"}\n            <a href=\"mailto:info@queerburners.com\">info@queerburners.com</a>\n          </li>\n        </ul>\n      </Col>\n    </Row>\n  </Container>\n);\n\nexport default FAQ;\n","export const defaultYear = new Date().getFullYear();\nexport const api =\n  \"https://l374cc62kc.execute-api.us-east-2.amazonaws.com/Prod\";\n// \"http://localhost:3001\"; // for local docker testing ~!\nexport const s3images =\n  \"https://s3.us-east-2.amazonaws.com/queerburnersdirectory.com-images\";\nexport const googleClientId =\n  \"1091094241484-ve5hbpa496m6d1k21m8r5ni16kvrkifi.apps.googleusercontent.com\";\nexport const oauthEndpoint = \"https://accounts.google.com/o/oauth2/v2/auth\";\n","import React, { useState } from \"react\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Popover from \"react-bootstrap/Popover\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Image from \"react-bootstrap/Image\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { Link } from \"react-router-dom\";\nimport { s3images } from \"../definitions.js\";\n\nfunction JoinButton(props) {\n  const o = props.o;\n  if (o.joinOpen) {\n    const popover = (\n      <Popover id=\"popover-basic\">\n        <Popover.Title as=\"h3\">Join our camp!</Popover.Title>\n        <Popover.Content>\n          {o.joinMessage}\n          {o.joinUrl && (\n            <div>\n              <hr></hr>\n              <a href={o.joinUrl}>Apply</a>\n            </div>\n          )}\n        </Popover.Content>\n      </Popover>\n    );\n\n    return (\n      <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={popover}>\n        <Button variant=\"outline-info\" size=\"sm\" style={{ marginLeft: \"1rem\" }}>\n          Join Us!\n        </Button>\n      </OverlayTrigger>\n    );\n  } else return null;\n}\n\nfunction DisplayURL(props) {\n  if (props.url) {\n    const strippedURL = props.url\n      .replace(/^https?:\\/\\//, \"\")\n      .replace(/\\/$/, \"\");\n    return (\n      <div>\n        <Image\n          src={require(\"../assets/social_www.svg\")}\n          style={{ width: \"1.3rem\", paddingRight: \".35rem\" }}\n        />\n        <a href={props.url}>{strippedURL}</a>\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction DisplayEmail(props) {\n  if (props.email) {\n    return (\n      <div style={{ marginBottom: \"1rem\" }}>\n        <Image\n          src={require(\"../assets/social_email.svg\")}\n          style={{ width: \"1.3rem\", paddingRight: \".35rem\" }}\n        />\n        <a href={\"mailto:\" + props.email}>{props.email}</a>\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nconst Lightbox = (props) => {\n  return (\n    <Modal\n      show={props.show}\n      dialogClassName=\"camp-lightbox \"\n      onHide={() => props.setShow(false)}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>{props.name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body style={{ padding: 0 }}>\n        <Image src={props.image} fluid></Image>\n      </Modal.Body>\n      {props.about && props.about.length > 0 && (\n        <Modal.Footer style={{ justifyContent: \"flex-start\" }}>\n          {props.about}\n        </Modal.Footer>\n      )}\n    </Modal>\n  );\n};\n\nconst CampCard = (props) => {\n  const [showLightbox, setShowLightbox] = useState(false);\n  const o = props.o;\n\n  return (\n    <>\n      <Lightbox\n        show={showLightbox}\n        setShow={setShowLightbox}\n        image={`${s3images}/${o.fullSizeImage}`}\n        name={o.name}\n        about={o.about}\n        centered\n      ></Lightbox>\n      <Card bg=\"light\" border={props.ismine ? \"success\" : \"light\"}>\n        {o.thumbnail && (\n          <Card.Img\n            role=\"button\"\n            variant=\"top\"\n            src={`${s3images}/${o.thumbnail}`}\n            onClick={() => {\n              setShowLightbox(!!o.fullSizeImage); // only show lightbox if fullSizeImage present\n            }}\n          />\n        )}\n        <Card.Header as=\"h5\">\n          <span style={{ fontSize: \"1.2rem\", fontWeight: \"bolder\" }}>\n            {o.name}\n          </span>\n          <JoinButton o={o} />\n        </Card.Header>\n        <Card.Body>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {o.identifies}\n            {o.location && o.location.string && <div>{o.location.string}</div>}\n          </Card.Subtitle>\n          <Card.Text>{o.about}</Card.Text>\n          <DisplayURL url={o.url} />\n          <DisplayEmail email={o.email} />\n          {[\"facebook\", \"instagram\", \"twitter\"].map((s) => {\n            if (!o[s]) return null;\n            let url = o[s];\n            if (s === \"twitter\" || s === \"instagram\")\n              url = `https://${s}.com/${url}`;\n            return (\n              <a href={url} key={s}>\n                <Image\n                  src={require(\"../assets/social_\" + s + \".svg\")}\n                  style={{ width: \"1.8rem\", paddingRight: \".35rem\" }}\n                />\n              </a>\n            );\n          })}\n          <h4>\n            {o.offerShowers && (\n              <OverlayTrigger\n                key=\"shower\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-shower\">Camp provides showers</Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides showers\">\n                  🚿{\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.offerWater && (\n              <OverlayTrigger\n                key=\"water\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-water\">Camp provides water</Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides water\">\n                  🚰{\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.offerMeals && (\n              <OverlayTrigger\n                key=\"meal\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-meal\">\n                    Camp provides some or all meals\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides some or all meals\">\n                  🍽{\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.campFee && (\n              <OverlayTrigger\n                key=\"fee\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-fee\">\n                    There is a fee to camp with us\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"There is a fee to camp with us\">\n                  💲{\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.virginsWelcome && (\n              <OverlayTrigger\n                key=\"virgins\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-virgins\">\n                    Burning Man first-timers welcome\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Burning Man first-timers welcome\">\n                  🦄{\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n          </h4>\n        </Card.Body>\n        {props.ismine && (\n          <Card.Footer>\n            This is your camp - you can&nbsp;\n            <Link to={`/edit/${o.year}/?camp=${encodeURIComponent(o.name)}`}>\n              edit it!\n            </Link>\n          </Card.Footer>\n        )}\n        {!props.ismine && props.isadmin && (\n          <Card.Footer>\n            <Link to={`/edit/${o.year}/?camp=${encodeURIComponent(o.name)}`}>\n              Edit\n            </Link>\n            {o.contact && o.contact.email && o.contact.name && (\n              <div style={{ fontSize: \"0.8rem\" }}>\n                Submitted by {o.contact.name}{\" \"}\n                <a href={`mailto:${o.contact.email}`}>{o.contact.email}</a>\n              </div>\n            )}\n          </Card.Footer>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default CampCard;\n","import React from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardColumns from \"react-bootstrap/CardColumns\";\nimport Button from \"react-bootstrap/Button\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Card from \"react-bootstrap/Card\";\n\nimport CampCard from \"./CampCard.js\";\n\nimport { Link } from \"react-router-dom\";\nimport { defaultYear, api } from \"../definitions.js\";\n\nimport axios from \"axios\";\nconst CancelToken = axios.CancelToken;\n\nconst campIdentifications = [...require(\"shared\").campIdentifications];\n\nconst neighborhood = (camp) => {\n  const s430 = [\"4:00\", \"4:15\", \"4:30\", \"4:45\", \"5:00\", \"5:15\", \"5:30\"];\n  const s730 = [\"6:30\", \"6:45\", \"7:00\", \"7:15\", \"7:30\", \"7:45\", \"8:00\"];\n\n  if (\n    s430.includes(camp.location.frontage) ||\n    s430.includes(camp.location.intersection)\n  )\n    return \"East Village\";\n  if (\n    s730.includes(camp.location.frontage) ||\n    s730.includes(camp.location.intersection)\n  )\n    return \"West Village\";\n\n  return \"Elsewhere\";\n};\n\nexport default class DirectoryBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filter: \"all\",\n      search: this.props.search ? this.props.search : \"\",\n      data: null,\n      cancelFn: null,\n    };\n  }\n\n  async fetchData(clearFirst) {\n    if (this.state.cancelFn) {\n      this.state.cancelFn();\n      this.setState({ cancelFn: null });\n    }\n\n    let year;\n    if (this.props.year >= 1996 && this.props.year < 3000) {\n      year = this.props.year;\n    } else if (defaultYear === 2020) {\n      year = 2019; // there was no burning man in 2020 :(\n    } else {\n      year = defaultYear;\n    }\n\n    if (clearFirst) {\n      this.setState({ data: null });\n    }\n    try {\n      const response = await axios.get(`${api}/camps/${year}`, {\n        auth: { username: this.props.userData.idToken, password: \"\" },\n        cancelToken: new CancelToken((c) => {\n          this.setState({ cancelFn: c });\n        }),\n      });\n      this.setState({ cancelFn: null, data: response.data });\n    } catch (e) {\n      if (!axios.isCancel(e)) {\n        console.error(e);\n      }\n    }\n  }\n\n  async componentDidMount() {\n    await this.fetchData(false);\n  }\n\n  async componentDidUpdate(prevProps) {\n    // if user turns out to be admin, reload because the admin gets to see\n    // more stuff\n\n    if (this.props.userData.isAdmin && !prevProps.userData.isAdmin) {\n      await this.fetchData(false);\n    } else if (this.props.year !== prevProps.year) {\n      this.setState({ search: \"\" });\n      await this.fetchData(true);\n    }\n  }\n\n  onSearchChange = (event) => {\n    this.setState({ search: event.target.value });\n  };\n\n  render() {\n    let filterButtonString = this.state.filter;\n    if (this.state.filter === \"all\") {\n      filterButtonString = \"Filter\";\n    }\n\n    return (\n      <div>\n        <Container fluid className=\"pl-4 pr-4\">\n          <Row className=\"pb-4\">\n            <Col>\n              <h2>Camp Directory {this.props.year}</h2>\n            </Col>\n            <Col md=\"auto\">\n              <Form inline={1}>\n                {/* this fake submit button is here to block Enter \"submitting\" the search (which does nothing) */}\n                <Button\n                  type=\"submit\"\n                  disabled\n                  style={{ display: \"none\" }}\n                  aria-hidden=\"true\"\n                />\n                <DropdownButton\n                  as={ButtonGroup}\n                  id=\"dropdown-basic-button\"\n                  title={filterButtonString}\n                  size=\"sm\"\n                  style={{ marginRight: \"2rem\" }}\n                >\n                  {campIdentifications.map((s) => (\n                    <Dropdown.Item\n                      key={s}\n                      onClick={() => this.setState({ filter: s })}\n                    >\n                      {s}\n                    </Dropdown.Item>\n                  ))}\n                  <Dropdown.Item\n                    onClick={() => this.setState({ filter: \"East Village\" })}\n                  >\n                    East Village\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    onClick={() => this.setState({ filter: \"West Village\" })}\n                  >\n                    West Village\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    onClick={() =>\n                      this.setState({ filter: \"Seeking new members\" })\n                    }\n                  >\n                    Seeking new members\n                  </Dropdown.Item>\n                </DropdownButton>\n                {this.state.filter !== \"all\" && (\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline-primary\"\n                    style={{ marginRight: \"2rem\" }}\n                    onClick={() => this.setState({ filter: \"all\" })}\n                  >\n                    Clear Filter\n                  </Button>\n                )}\n                <InputGroup size=\"sm\" style={{ width: \"20rem\" }}>\n                  <FormControl\n                    autoFocus\n                    placeholder=\"Search\"\n                    aria-label=\"Search\"\n                    onChange={this.onSearchChange}\n                    value={this.state.search}\n                  />\n                  {this.state.search.length > 0 && (\n                    <InputGroup.Append>\n                      <Button\n                        variant=\"outline-secondary\"\n                        onClick={() => this.setState({ search: \"\" })}\n                      >\n                        Clear\n                      </Button>\n                    </InputGroup.Append>\n                  )}\n                </InputGroup>\n              </Form>\n            </Col>\n          </Row>\n          {!this.state.data ? (\n            <Row>\n              <Col>\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </Col>\n            </Row>\n          ) : (\n            <>\n              <Row>\n                <Col>\n                  <CardColumns>\n                    {this.state.data\n                      .filter(\n                        (onecamp) =>\n                          (this.state.filter === \"all\" ||\n                            (this.state.filter === \"Seeking new members\" &&\n                              onecamp.joinOpen) ||\n                            (this.state.filter === \"West Village\" &&\n                              neighborhood(onecamp) === this.state.filter) ||\n                            (this.state.filter === \"East Village\" &&\n                              neighborhood(onecamp) === this.state.filter) ||\n                            this.state.filter === onecamp.identifies) &&\n                          (this.state.search.length === 0 ||\n                            (this.state.search.length === 1 &&\n                              onecamp.name\n                                .toLowerCase()\n                                .startsWith(this.state.search.toLowerCase())) ||\n                            (this.state.search.length > 1 &&\n                              onecamp.name\n                                .toLowerCase()\n                                .includes(this.state.search.toLowerCase())))\n                      )\n                      .map((onecamp) => (\n                        <CampCard\n                          o={onecamp}\n                          key={onecamp.year + \" \" + onecamp.name}\n                          ismine={\n                            (this.props.userData.hashEmail &&\n                              this.props.userData.hashEmail ===\n                                onecamp.hashEmail) ||\n                            (this.props.userData.email &&\n                              onecamp.contact &&\n                              onecamp.contact.email &&\n                              this.props.userData.email ===\n                                onecamp.contact.email)\n                          }\n                          isadmin={this.props.userData.isAdmin}\n                        />\n                      ))}\n                    {this.props.search ? (\n                      <Card bg=\"success\" text=\"white\">\n                        <Card.Header>\n                          <strong>Thank you!</strong>\n                        </Card.Header>\n                        <Card.Body>\n                          <p>\n                            <strong>{this.props.search}</strong> will now appear\n                            in the Queer Burners Directory for {this.props.year}\n                            .\n                          </p>\n                          <p>\n                            You can edit this listing, change the picture, and\n                            add more information at any time. Just come back to\n                            queerburnersdirectory.com and log on again using\n                            your Google account.\n                          </p>\n                          <p>\n                            This directory is a service of{\" \"}\n                            <a\n                              href=\"http://queerburners.com/\"\n                              className=\"text-reset\"\n                              style={{ textDecoration: \"underline\" }}\n                            >\n                              Queer Burners\n                            </a>\n                            , an online community of LGBTQ+ burners from around\n                            the world. Check out our website for galleries, the\n                            history of LGBTQ+ participants at Burning Man, and\n                            more. We also have{\" \"}\n                            <a\n                              href=\"https://www.facebook.com/groups/queer.burners/\"\n                              className=\"text-reset\"\n                              style={{ textDecoration: \"underline\" }}\n                            >\n                              an active Facebook group\n                            </a>{\" \"}\n                            to keep in touch and hope you will join!\n                          </p>\n                          <Button\n                            onClick={() => {\n                              this.setState({ search: \"\" });\n                            }}\n                          >\n                            Ok\n                          </Button>\n                        </Card.Body>\n                      </Card>\n                    ) : (\n                      <Card bg=\"success\" text=\"white\">\n                        <Card.Header>\n                          <strong>Don't see your camp here?</strong>\n                        </Card.Header>\n                        <Card.Body>\n                          <p>\n                            Please{\" \"}\n                            <Link\n                              to=\"/submit\"\n                              className=\"text-reset\"\n                              style={{ textDecoration: \"underline\" }}\n                            >\n                              submit it\n                            </Link>\n                            !\n                          </p>\n                        </Card.Body>\n                      </Card>\n                    )}\n                  </CardColumns>\n                </Col>\n              </Row>\n            </>\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\n\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Image from \"react-bootstrap/Image\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport { googleClientId, oauthEndpoint, api } from \"../definitions.js\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport { hashEmail } from \"shared\";\n\nexport const LogonLink = () => {\n  return <a href={LogonLinkAddress()}>Login</a>;\n};\n\nconst LogonLinkAddress = () => {\n  let location = useLocation();\n\n  let link =\n    oauthEndpoint +\n    \"?state=\" +\n    encodeURIComponent(location.pathname + location.search) +\n    \"&client_id=\" +\n    googleClientId +\n    \"&redirect_uri=\" +\n    encodeURIComponent(window.location.origin + \"/postauthenticate\") +\n    \"&response_type=code\" +\n    \"&scope=openid%20email%20profile\" +\n    \"&access_type=offline\" +\n    \"&include_granted_scopes=true\";\n\n  if (localStorage.getItem(\"oauthPrompt\")) {\n    link += `&prompt=${localStorage.getItem(\"oauthPrompt\")}`;\n  }\n\n  return link;\n};\n\nexport const Authenticate = (props) => {\n  useEffect(() => {\n    if (!props.userData.isLoggedOn) {\n      // user isn't logged on. Do they want to be?\n\n      let tmpUserData = JSON.parse(localStorage.getItem(\"userData\"));\n      if (tmpUserData && tmpUserData.isLoggedOn) {\n        // yes. Is their token still good?\n        if (new Date(tmpUserData.expires).valueOf() > new Date().valueOf()) {\n          // Yes! Log them on\n          props.OnUserDataChange(tmpUserData);\n        } else {\n          // No! This would be a good time to redirect through google TODO!\n        }\n      }\n    }\n  }, [props.userData, props]);\n\n  // every 10 seconds, we check if the user login token is expiring.\n  // If so, we kinda force a logout, so the UI doesn't appear to show\n  // you that you are logged on.\n  useEffect(() => {\n    let interval = setInterval(() => {\n      if (\n        props.userData.isLoggedOn &&\n        new Date(props.userData.expires).valueOf() - 10000 <\n          new Date().valueOf()\n      ) {\n        // user token expired.\n        localStorage.removeItem(\"userData\");\n        props.OnUserDataChange({ isLoggedOn: false });\n      }\n    }, 10000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  });\n\n  if (props.userData && props.userData.isLoggedOn) {\n    return (\n      <>\n        <Image\n          roundedCircle\n          src={props.userData.imageUrl}\n          className=\"GoogleUserPicture\"\n        ></Image>\n        <NavDropdown alignRight title={props.userData.fullName}>\n          <NavDropdown.Item>\n            Logged on as {props.userData.email}\n            {props.userData.isAdmin && <em> (admin)</em>}\n          </NavDropdown.Item>\n          <NavDropdown.Item\n            onClick={() => {\n              localStorage.removeItem(\"userData\");\n              localStorage.setItem(\"oauthPrompt\", \"consent\");\n              props.OnUserDataChange({ isLoggedOn: false });\n            }}\n          >\n            Logout\n          </NavDropdown.Item>\n        </NavDropdown>\n      </>\n    );\n  } else {\n    return <Nav.Link href={LogonLinkAddress()}>Login</Nav.Link>;\n  }\n};\n\nexport const PostAuthenticate = (props) => {\n  const [status, setStatus] = useState(\"Logging you on...\");\n  const [isLoggedOn, setIsLoggedOn] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await axios.post(`${api}/googleidtokenfromauthcode`, {\n          code: new URLSearchParams(props.location.search).get(\"code\"),\n          redirect_uri: `${window.location.origin}/postauthenticate`,\n        });\n\n        setStatus(\"Success\");\n        setIsLoggedOn(true);\n\n        const userData = {\n          isLoggedOn: true,\n          idToken: result.data.idToken,\n          fullName: result.data.name,\n          email: result.data.email,\n          hashEmail: hashEmail(result.data.email),\n          isAdmin: result.data.isadmin,\n          imageUrl: result.data.imageUrl,\n          expires: new Date(\n            new Date().valueOf() + 1000 * Number(result.data.duration)\n          ),\n        };\n\n        localStorage.setItem(\"userData\", JSON.stringify(userData));\n        localStorage.removeItem(\"oauthPrompt\");\n        props.OnUserDataChange(userData);\n      } catch (err) {\n        console.error(\"Error logging on\");\n        console.error(err.response.data);\n        setStatus(\"An error occurred logging you on.\");\n      }\n    };\n\n    fetchData();\n  }, [props.location.search, props]);\n\n  const queryParams = new URLSearchParams(props.location.search);\n\n  if (isLoggedOn) {\n    return <Redirect to={queryParams.get(\"state\")} />;\n  } else {\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <Spinner animation=\"border\" role=\"status\">\n              <span className=\"sr-only\"></span>\n            </Spinner>\n            <h2>{status}</h2>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { Redirect } from \"react-router\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { LogonLink } from \"./Authenticate.js\";\n\nimport { defaultYear, api, s3images } from \"../definitions.js\";\nimport { fieldError, emptyCamp } from \"shared\";\n\nimport axios from \"axios\";\n\nconst campIdentifications = [...require(\"shared\").campIdentifications];\nconst streets = [...require(\"shared\").streets];\nconst crossStreets = require(\"shared\").crossStreets;\n\nexport default class SubmitBody extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // The state object is just a standard\n      // camp directory object, which can be submitted to the\n      // API and stored in the database.\n      ...emptyCamp,\n      year: defaultYear === 2020 ? 2021 : defaultYear,\n\n      // state keys starting with '_' are Component state\n      // and form metadata which will never be submitted to the API\n      _validated: false,\n      _error_name: null,\n      _error_about: null,\n      _error_url: null,\n      _error_facebook: null,\n      _error_email: null,\n      _error_twitter: null,\n      _error_instagram: null,\n      _error_joinMessage: null,\n      _error_joinUrl: null,\n      _error_submit: null,\n      _submit_in_progress: false,\n      _submit_successful: false,\n      _ready_to_show_form: false,\n    };\n  }\n\n  submitHandler = async (event) => {\n    event.preventDefault();\n    this.setState({\n      _validated: true,\n      _error_submit: null,\n      _submit_in_progress: true,\n    });\n\n    let camp = {};\n    for (var key in this.state) {\n      if (!key.startsWith(\"_\")) {\n        camp[key] = this.state[key];\n        if (typeof camp[key] === \"string\") {\n          camp[key] = camp[key].trim();\n        }\n      }\n    }\n\n    var fieldsToValidate = [\n      \"name\",\n      \"about\",\n      \"url\",\n      \"facebook\",\n      \"email\",\n      \"twitter\",\n      \"instagram\",\n    ];\n    if (this.state.joinOpen) {\n      fieldsToValidate.push(\"joinMessage\", \"joinUrl\");\n    }\n\n    for (var x of fieldsToValidate) {\n      if (!this.fieldValidator(x, camp[x])) {\n        this.setState({ _submit_in_progress: false });\n        return null;\n      }\n    }\n\n    try {\n      await axios.post(`${api}/camps`, camp, {\n        auth: {\n          username: this.props.userData.idToken,\n          password: \"\",\n        },\n      });\n      this.setState({ _submit_successful: true, _submit_in_progress: false });\n    } catch (error) {\n      let msg = \"\";\n      if (error.response) {\n        // server returned error\n        msg = `Error ${error.response.status}: ${error.response.data}`;\n      } else if (error.request) {\n        msg = \"Error: Network error (no response received)\";\n      } else {\n        msg = error.message;\n      }\n      console.error(msg);\n      console.error(error);\n      this.setState({ _error_submit: msg, _submit_in_progress: false });\n    }\n  };\n\n  fieldValidator = (key, value) => {\n    const err = fieldError(key, value);\n\n    this.setState({ [\"_error_\" + key]: err });\n    document.getElementById(key).setCustomValidity(err);\n    return err === \"\";\n  };\n\n  changeHandler = (event) => {\n    // if the name of the form control is a single\n    // word like \"identifies\", this does a normal, simple\n    // setState to update the JSON state.\n\n    // if it is composite, like \"location.frontage\", it\n    // only changes location.frontage while preserving\n    // the other sub-fields of location.\n\n    // this allows up to two levels of hierarchy in the\n    // object.\n\n    const splitname = event.target.name.split(\".\");\n    const x = splitname[0];\n    let y;\n    switch (event.target.type) {\n      case \"checkbox\":\n        y = event.target.checked;\n        break;\n      default:\n        y = event.target.value;\n    }\n\n    if (splitname.length === 1) {\n      this.setState((state, props) => {\n        return {\n          [x]: y,\n        };\n      });\n    } else if (splitname.length === 2) {\n      const xx = splitname[1];\n      this.setState((state, props) => {\n        return {\n          [x]: {\n            ...state[x],\n            [xx]: y,\n          },\n        };\n      });\n    }\n\n    if (x === \"location\") {\n      if (splitname[1] === \"frontage\") {\n        // constrain intersections to valid cross streets\n      }\n    }\n\n    this.fieldValidator(event.target.name, y);\n  };\n\n  NotLoggedIn() {\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h2>Submit your camp to the Queer Burners directory!</h2>\n            <p>\n              Welcome! We're building a comprehensive list of queer and ally\n              theme camps that will participate in Burning Man in{\" \"}\n              {this.state.year}.\n            </p>\n\n            <p>\n              To add your theme camp to this directory, please start by logging\n              in using a Google Account.\n            </p>\n            <p>\n              <LogonLink />\n            </p>\n            <p>\n              We will use the email address associated with your Google Account\n              to contact you in case of difficulty, but it won't appear in the\n              directory. Later if you need to make changes or remove your camp's\n              listing, you can do so by logging in again.\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  Instructions() {\n    if (this.props.year && this.props.camp) {\n      return (\n        <div>\n          <h2>{this.props.camp.name}</h2>\n          <p>\n            Edit any changes in the information for your camp in{\" \"}\n            {this.props.year} and hit Submit.\n          </p>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <h2>Submit your camp to the Queer Burners directory!</h2>\n          <p>\n            Welcome! We're building a comprehensive list of queer and ally theme\n            camps that will participate in Burning Man in {this.state.year}.\n          </p>\n          <p>\n            To add your theme camp to this directory, please fill out this form.\n          </p>\n        </div>\n      );\n    }\n  }\n\n  async fetchData() {\n    try {\n      const response = await axios.get(\n        `${api}/camps/${this.props.year}/${encodeURIComponent(\n          this.props.camp\n        )}`,\n        {\n          auth: {\n            username: this.props.userData.idToken,\n            password: \"\",\n          },\n        }\n      );\n      const data = response.data[0];\n\n      this.setState({\n        ...data,\n        originalName: data.name,\n        _ready_to_show_form: true,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (\n      prevProps.userData.isAdmin !== this.props.userData.isAdmin ||\n      prevProps.year !== this.props.year ||\n      prevProps.camp !== this.props.camp\n    )\n      await this.fetchData();\n  }\n\n  async componentDidMount() {\n    if (!this.props.camp || this.props.camp.length === 0) {\n      this.setState({ _ready_to_show_form: true });\n      return;\n    }\n\n    await this.fetchData();\n  }\n\n  render() {\n    if (this.state._submit_successful) {\n      return (\n        <Redirect\n          to={`/year/${this.state.year}?s=${encodeURIComponent(\n            this.state.name\n          )}`}\n        />\n      );\n    } else if (!this.props.userData.isLoggedOn) {\n      return this.NotLoggedIn();\n    } else if (!this.state._ready_to_show_form) {\n      return (\n        <Container>\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        </Container>\n      );\n    } else\n      return (\n        <Form\n          noValidate\n          validated={this.state._validated}\n          onSubmit={this.submitHandler}\n        >\n          <Container fluid=\"lg\" className=\"pl-4 pr-4 pb-4\">\n            <Row>\n              <Col>{this.Instructions()}</Col>\n            </Row>\n            <Row>\n              <Col xs={12} md={8}>\n                <Form.Group controlId=\"name\">\n                  <Form.Label>Camp Name</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    placeholder=\"404 Camp Not Found\"\n                    name=\"name\"\n                    value={this.state.name}\n                    onChange={this.changeHandler}\n                  ></Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_name}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    If your camp is registered with placement, make sure this\n                    name matches exactly.\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"identifies\">\n                  <Form.Label>Primary Identification</Form.Label>\n                  <Form.Control\n                    as=\"select\"\n                    name=\"identifies\"\n                    value={this.state.identifies}\n                    onChange={this.changeHandler}\n                  >\n                    {campIdentifications.map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"about\">\n                  <Form.Label>About your camp</Form.Label>\n                  <Form.Control\n                    as=\"textarea\"\n                    rows=\"3\"\n                    placeholder=\"Max 255 characters\"\n                    name=\"about\"\n                    onChange={this.changeHandler}\n                    value={this.state.about}\n                  ></Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_about}\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"location.frontage\">\n                  <Form.Label>Frontage</Form.Label>\n                  <Form.Control\n                    name=\"location.frontage\"\n                    as=\"select\"\n                    onChange={this.changeHandler}\n                    value={this.state.location.frontage}\n                  >\n                    {streets.map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Text className=\"text-muted\">\n                    The street that your camp faces\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group controlId=\"location.intersection\">\n                  <Form.Label>Intersection</Form.Label>\n                  <Form.Control\n                    name=\"location.intersection\"\n                    as=\"select\"\n                    onChange={this.changeHandler}\n                    value={this.state.location.intersection}\n                  >\n                    {crossStreets(this.state.location.frontage).map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Text className=\"text-muted\">\n                    The nearest cross-street\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col xs={12} md={6}>\n                <Form.Group controlId=\"url\">\n                  <Form.Label>Public web site</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"url\"\n                    value={this.state.url}\n                    placeholder=\"https://www.example.com\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_url}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Your camp's public website, if any. Do not use a Facebook\n                    URL here\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={6}>\n                <Form.Group controlId=\"facebook\">\n                  <Form.Label>Facebook</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"facebook\"\n                    value={this.state.facebook}\n                    placeholder=\"https://www.facebook.com/campname\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_facebook}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Your camp's public Facebook page or group, if any. Provide\n                    the full URL\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"email\">\n                  <Form.Label>Public Email</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"email\"\n                    value={this.state.email}\n                    placeholder=\"info@example.com\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_email}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Public email address for inquiries (this will be visible in\n                    the directory to anyone!)\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"twitter\">\n                  <Form.Label>Twitter</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>@</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      type=\"input\"\n                      name=\"twitter\"\n                      value={this.state.twitter}\n                      placeholder=\"example\"\n                      onChange={this.changeHandler}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {this.state._error_twitter}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                  <Form.Text className=\"text-muted\">\n                    Your Twitter feed, if any\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"instagram\">\n                  <Form.Label>Instagram</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>@</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      type=\"input\"\n                      name=\"instagram\"\n                      value={this.state.instagram}\n                      placeholder=\"example\"\n                      onChange={this.changeHandler}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {this.state._error_instagram}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                  <Form.Text className=\"text-muted\">\n                    Your Instagram feed, if any\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <ImageUploader\n                  thumbnail={this.state.thumbnail}\n                  onChange={(thumbnail) => {\n                    this.setState({ thumbnail: thumbnail });\n                  }}\n                />\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"offerMeals\">\n                  <Form.Label>Features</Form.Label>\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerMeals\"\n                    checked={this.state.offerMeals}\n                    label=\"Camp provides some or all meals\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"offerWater\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerWater\"\n                    checked={this.state.offerWater}\n                    label=\"Camp provides water\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"offerShowers\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerShowers\"\n                    checked={this.state.offerShowers}\n                    label=\"Camp provides showers\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"campFee\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"campFee\"\n                    checked={this.state.campFee}\n                    label=\"There is a fee to camp with us\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"virginsWelcome\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"virginsWelcome\"\n                    checked={this.state.virginsWelcome}\n                    label=\"Burning Man first-timers welcome\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"joinOpen\">\n                  <Form.Label>Are you open to new members?</Form.Label>\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"joinOpen\"\n                    checked={this.state.joinOpen}\n                    label=\"Yes\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                {this.state.joinOpen && (\n                  <div>\n                    <Form.Group controlId=\"joinMessage\">\n                      <Form.Label>Instructions</Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        rows=\"3\"\n                        name=\"joinMessage\"\n                        value={this.state.joinMessage}\n                        placeholder=\"Max 255 characters\"\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Control.Feedback type=\"invalid\">\n                        {this.state._error_joinMessage}\n                      </Form.Control.Feedback>\n                      <Form.Text className=\"text-muted\">\n                        Provide brief instructions for people who are interested\n                        in joining your camp. What should they do next?\n                      </Form.Text>\n                    </Form.Group>\n                    <Form.Group controlId=\"joinUrl\">\n                      <Form.Label>URL for application form</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        name=\"joinUrl\"\n                        value={this.state.joinUrl}\n                        placeholder=\"https://www.example.com\"\n                        onChange={this.changeHandler}\n                      ></Form.Control>{\" \"}\n                      <Form.Control.Feedback type=\"invalid\">\n                        {this.state._error_joinUrl}\n                      </Form.Control.Feedback>\n                      <Form.Text className=\"text-muted\">\n                        Provide a link to an application form or information\n                        about joining.\n                      </Form.Text>\n                    </Form.Group>\n                  </div>\n                )}\n              </Col>\n            </Row>\n\n            {this.state.contact &&\n              this.state.contact.email &&\n              this.state.contact.name &&\n              this.props.userData.isAdmin && (\n                <Row style={{ border: \"3px solid #f7f7f7\" }}>\n                  <Col xs={12} md={4} style={{ backgroundColor: \"#f7f7f7\" }}>\n                    Administrators Only\n                    <br />\n                    <Form.Text className=\"text-muted\">\n                      You are logged on as an administrator so you can edit who\n                      owns this camp.{\" \"}\n                      <strong>This private info is not shown to users.</strong>\n                    </Form.Text>\n                  </Col>\n                  <Col xs={12} md={4}>\n                    <Form.Group controlId=\"contact.email\">\n                      <Form.Label>Private Email</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        placeholder=\"a@example.com\"\n                        name=\"contact.email\"\n                        value={this.state.contact.email}\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Text className=\"text-muted\">\n                        The private email address of the person who submitted\n                        this camp. This controls who can edit the camp.\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                  <Col xs={12} md={4}>\n                    <Form.Group controlId=\"contact.name\">\n                      <Form.Label>Name</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        placeholder=\"Pat Burner\"\n                        name=\"contact.name\"\n                        value={this.state.contact.name}\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Text className=\"text-muted\">\n                        The name of the person who submitted this camp.\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              )}\n\n            <Row>\n              <Col>\n                {this.state._error_submit && (\n                  <Alert\n                    variant=\"danger\"\n                    dismissible\n                    onClose={() => this.setState({ _error_submit: null })}\n                  >\n                    <Alert.Heading>Error</Alert.Heading>\n                    <p>\n                      An error occurred and your camp information was not\n                      submitted.\n                    </p>\n                    <p>\n                      <strong>{this.state._error_submit}</strong>\n                    </p>\n                  </Alert>\n                )}\n\n                {this.state._submit_in_progress ? (\n                  <Spinner animation=\"border\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                  </Spinner>\n                ) : (\n                  <span>\n                    <Button variant=\"primary\" type=\"submit\">\n                      Submit\n                    </Button>{\" \"}\n                    {this.props.year && this.props.camp && (\n                      <DeleteButton\n                        year={this.state.year}\n                        name={this.state.name}\n                        userData={this.props.userData}\n                      />\n                    )}\n                  </span>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </Form>\n      );\n  }\n}\n\nconst ImageUploader = (props) => {\n  // TODO bug! if user submits too fast, the image is lost. Need to disable Submit while uploading\n\n  const [objectUrl, setObjectUrl] = useState(\"\"); // URL of the image\n  const [userFilename, setUserFilename] = useState(\"\"); // what the user thinks the file is called\n  const [uploadProgress, setUploadProgress] = useState(null);\n  const [needsScroll, setNeedsScroll] = useState(false);\n  const imageEl = useRef(null);\n\n  useEffect(() => {\n    if (props.thumbnail.length > 0 && objectUrl.length === 0) {\n      setObjectUrl(`${s3images}/${props.thumbnail}`);\n    }\n\n    if (needsScroll) {\n      setTimeout(() => {\n        imageEl.current.scrollIntoView({\n          block: \"end\",\n          behavior: \"smooth\",\n        });\n      }, 100);\n      setNeedsScroll(false);\n    }\n  }, [props.thumbnail, objectUrl.length, needsScroll]);\n\n  const startUpload = async (event) => {\n    if (event.target.files.length === 0) {\n      // no picture.\n      setUserFilename(\"\");\n      return;\n    }\n\n    const actualFile = event.target.files[0];\n\n    let ext = \"\";\n    if ([\"image/jpeg\", \"image/jpg\"].includes(actualFile.type)) {\n      ext = \"jpg\";\n    } else if (actualFile.type === \"image/png\") {\n      ext = \"png\";\n    } else {\n      // TODO ERROR PLZ\n      setObjectUrl(\"\");\n      setUserFilename(\"\");\n      props.onChange(\"\");\n      return;\n    }\n\n    setUserFilename(actualFile.name);\n\n    try {\n      const uploader = await axios.get(`${api}/camps/pictureuploadurl/${ext}`);\n\n      let image;\n      let reader = new FileReader();\n      reader.onload = async (e) => {\n        image = e.target.result;\n\n        let binary = atob(image.split(\",\")[1]);\n        let array = [];\n        for (var i = 0; i < binary.length; i++) {\n          array.push(binary.charCodeAt(i));\n        }\n        let blobData = new Blob([new Uint8Array(array)], {\n          type: uploader.data.contentType,\n        });\n\n        await axios.put(uploader.data.url, blobData, {\n          headers: {\n            \"Content-Type\": uploader.data.contentType,\n          },\n          onUploadProgress: (pe) => {\n            setUploadProgress(\n              pe.lengthComputable\n                ? Math.floor((pe.loaded * 100) / pe.total)\n                : null\n            );\n          },\n        });\n\n        setObjectUrl(URL.createObjectURL(actualFile));\n        props.onChange(uploader.data.fileName);\n        setUploadProgress(null);\n        setNeedsScroll(true);\n      };\n\n      reader.readAsDataURL(actualFile);\n    } catch (error) {\n      console.error(error);\n      console.error(error.response.request.response);\n    }\n  };\n\n  return (\n    <Form.Group controlId=\"thumbnail\">\n      <Form.Label>Upload a picture of your camp here</Form.Label>\n      <Form.File\n        name=\"thumbnail\"\n        label={userFilename}\n        custom\n        accept=\"image/png|image/jpeg\"\n        onChange={startUpload}\n      />\n      {uploadProgress && (\n        <ProgressBar striped now={uploadProgress}></ProgressBar>\n      )}\n      {objectUrl && (\n        <div ref={imageEl}>\n          <Image src={objectUrl} fluid />\n          <Button\n            variant=\"outline-danger\"\n            onClick={() => {\n              props.onChange(\"\");\n              setObjectUrl(\"\");\n              setUserFilename(\"\");\n            }}\n          >\n            Delete this picture\n          </Button>\n        </div>\n      )}\n\n      <Form.Text className=\"text-muted\">\n        This picture will appear in the Queer Burners directory. Submit a\n        picture of your campers, your frontage, or something else fun, but\n        please keep it SFW!\n      </Form.Text>\n    </Form.Group>\n  );\n};\n\nconst DeleteButton = (props) => {\n  const [show, setShow] = useState(false);\n  const [needsScroll, setNeedsScroll] = useState(false);\n  const [done, setDone] = useState(false);\n  const alertEl = useRef(null);\n\n  useEffect(() => {\n    if (needsScroll) {\n      alertEl.current.scrollIntoView({\n        block: \"end\",\n        behavior: \"smooth\",\n      });\n      setNeedsScroll(false);\n    }\n  }, [needsScroll]);\n\n  if (done) {\n    return <Redirect to={`/year/${props.year}`}></Redirect>;\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"outline-danger\"\n        onClick={() => {\n          if (!show) setNeedsScroll(true);\n          setShow(!show);\n        }}\n      >\n        Delete\n      </Button>\n      <div ref={alertEl}>\n        <Alert show={show} variant=\"danger\" style={{ marginTop: \"1rem\" }}>\n          <Alert.Heading>Delete this camp?</Alert.Heading>\n          <p>\n            Are you sure you want to permanently delete this theme camp from the\n            Queer Burners Directory?\n          </p>\n          <hr />\n          <div className=\"d-flex justify-content-end\">\n            <Button\n              onClick={async () => {\n                setShow(false);\n                await axios.delete(\n                  `${api}/camps/${props.year}/${encodeURIComponent(\n                    props.name\n                  )}`,\n                  {\n                    auth: {\n                      username: props.userData.idToken,\n                      password: \"\",\n                    },\n                  }\n                );\n                setDone(true);\n              }}\n              variant=\"danger\"\n            >\n              Yes, permanently delete it\n            </Button>\n            &nbsp;\n            <Button onClick={() => setShow(false)} variant=\"outline-success\">\n              Cancel\n            </Button>\n          </div>\n        </Alert>\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\nimport banner from \"../assets/header.jpg\";\nimport { Authenticate } from \"./Authenticate.js\";\n\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nexport const Header = (props) => {\n  return (\n    <div>\n      <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\">\n        <Navbar.Brand href=\"http://queerburners.com/\">\n          Queer Burners\n        </Navbar.Brand>\n\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <LinkContainer to=\"/\">\n              <Nav.Link>Directory</Nav.Link>\n            </LinkContainer>\n            <LinkContainer to=\"/submit\">\n              <Nav.Link>Submit</Nav.Link>\n            </LinkContainer>\n            <NavDropdown title=\"Other Years\" id=\"collasible-nav-dropdown\">\n              <LinkContainer to=\"/year/2019\">\n                <NavDropdown.Item>2019 Metamorphoses</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/year/2020\">\n                <NavDropdown.Item>2020 The Multiverse</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/year/2021\">\n                <NavDropdown.Item>2021</NavDropdown.Item>\n              </LinkContainer>\n            </NavDropdown>\n          </Nav>\n          <Nav>\n            <Authenticate\n              userData={props.userData}\n              OnUserDataChange={props.OnUserDataChange}\n            />\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Link to=\"/\">\n        <img\n          className=\"img-fluid w-100\"\n          src={banner}\n          alt=\"Queer Burners\"\n          style={{ marginBottom: \"2rem\" }}\n        />\n      </Link>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { Link } from \"react-router-dom\";\n\nexport const Footer = (props) => {\n  return (\n    <Container fluid className=\"p-3 p-md-4 qb-footer\">\n      <Row>\n        <Col>\n          <p>\n            A project of Queer Burners: an online community of LGBTQ+ burners\n            from around the world.\n          </p>\n          <ul>\n            <li>\n              <a href=\"http://queerburners.com/history\">History</a>\n            </li>\n            <li>\n              <a href=\"http://queerburners.com/go-to-burning-man\">\n                Going to Burning Man\n              </a>\n            </li>\n\n            <li>\n              <Link to=\"/FAQ\">FAQ</Link>\n            </li>\n            <li>\n              <Link to=\"/Privacy\">Privacy Policy</Link>\n            </li>\n\n            <li>\n              <a href=\"mailto:info@queerburners.com\">info@queerburners.com</a>\n            </li>\n          </ul>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Footer;\n","import { useEffect } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\n\nfunction ScrollToTop({ history }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, [history]);\n  return null;\n}\n\nexport default withRouter(ScrollToTop);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport PrivacyBody from \"./components/PrivacyBody.js\";\nimport FAQ from \"./components/FAQ.js\";\nimport DirectoryBody from \"./components/DirectoryBody.js\";\nimport SubmitBody from \"./components/SubmitBody.js\";\nimport Header from \"./components/Header.js\";\nimport Footer from \"./components/Footer.js\";\nimport { PostAuthenticate } from \"./components/Authenticate.js\";\nimport ScrollToTop from \"./components/ScrollToTop.js\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./custom.scss\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Route } from \"react-router-dom\";\n\nconst TopLevelComponent = (props) => {\n  const [userData, setUserData] = useState({ isLoggedOn: false });\n\n  return (\n    <Router>\n      <ScrollToTop />\n      <Header\n        userData={userData}\n        OnUserDataChange={(newUserData) => {\n          setUserData(newUserData);\n        }}\n      />\n      <Route\n        exact\n        path=\"/\"\n        render={(props) => (\n          <DirectoryBody {...props} year=\"\" userData={userData} />\n        )}\n      />\n      <Route\n        path=\"/submit\"\n        render={(props) => (\n          <SubmitBody userData={userData} year={null} camp={null} />\n        )}\n      />\n      <Route\n        path=\"/year/:year\"\n        render={(props) => (\n          <DirectoryBody\n            {...props}\n            year={props.match.params.year}\n            search={new URLSearchParams(props.location.search).get(\"s\")}\n            userData={userData}\n          />\n        )}\n      />\n      <Route path=\"/privacy\" component={PrivacyBody} />\n      <Route path=\"/FAQ\" component={FAQ} />\n      <Route\n        path=\"/edit/:year\"\n        render={(props) => {\n          return (\n            <SubmitBody\n              userData={userData}\n              year={props.match.params.year}\n              camp={new URLSearchParams(props.location.search).get(\"camp\")}\n            />\n          );\n        }}\n      />\n      <Route\n        path=\"/postauthenticate\"\n        render={(props) => (\n          <PostAuthenticate\n            {...props}\n            OnUserDataChange={(newUserData) => {\n              setUserData(newUserData);\n            }}\n          />\n        )}\n      />\n      <Footer />\n    </Router>\n  );\n};\n\nReactDOM.render(<TopLevelComponent />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const crypto = require(\"crypto\");\n\nconst fieldError = (key, value) => {\n  let err = \"\";\n  switch (key) {\n    case \"year\":\n      if (typeof value !== \"number\") {\n        err = \"Year is not a number\";\n      } else if (value < 2018 || value > 2199) {\n        err = \"Year out of range\";\n      }\n      break;\n\n    case \"name\":\n      if (typeof value !== \"string\") {\n        err = \"Camp name is not a string\";\n      } else if (value.length === 0) {\n        err = \"Camp name is required\";\n      } else if (value.length > 50) {\n        err = `Camp name is too long by ${value.length - 50}`;\n      }\n      break;\n\n    case \"identifies\":\n      if (typeof value !== \"string\") {\n        err = \"identifies is not a string\";\n      } else if (value === \"\") {\n        err = \"identifies is required (try LGBTQ)\";\n      } else if (!campIdentifications.includes(value)) {\n        err = `${value} is not a valid camp identity (try LGBTQ)`;\n      }\n      break;\n\n    case \"about\":\n      if (typeof value !== \"string\") {\n        err = \"about is not a string\";\n      } else if (value.length > 255) {\n        err = `about is too long by ${value.length - 255}`;\n      }\n      break;\n\n    case \"location\":\n      if (\n        typeof value !== \"object\" ||\n        !value.frontage ||\n        !value.intersection ||\n        typeof value.frontage !== \"string\" ||\n        typeof value.intersection !== \"string\"\n      ) {\n        err =\n          \"type error - location should be an object with frontage and intersection strings\";\n      }\n      break;\n\n    case \"url\":\n      if (typeof value !== \"string\") {\n        err = \"url is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `url is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid url\";\n      } else if (isFacebookURL(value)) {\n        err = \"use the Facebook field for a Facebook page\";\n      }\n      break;\n\n    case \"facebook\":\n      if (typeof value !== \"string\") {\n        err = \"facebook is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `facebook is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid facebook url\";\n      } else if (!isFacebookURL(value)) {\n        err = `${value} is not a Facebook page/group`;\n      }\n      break;\n\n    case \"email\":\n      if (typeof value !== \"string\") {\n        err = \"email is not a string\";\n      } else if (value.length > 256) {\n        err = `email is too long by ${value.length - 256}`;\n      } else if (value.length > 0 && !validateEmail(value)) {\n        err = `'${value}' is not a valid email address`;\n      }\n      break;\n\n    case \"twitter\":\n      if (typeof value !== \"string\") {\n        err = \"twitter is not a string\";\n      } else if (value.length > 15) {\n        err = `twitter is too long by ${value.length - 15}`;\n      } else if (!/^[a-z0-9_]*$/i.test(value)) {\n        err = \"invalid twitter name\";\n      }\n      break;\n\n    case \"instagram\":\n      if (typeof value !== \"string\") {\n        err = \"instagram is not a string\";\n      } else if (value.length > 30) {\n        err = `instagram is too long by ${value.length - 30}`;\n      } else if (!/^[a-z0-9._]*$/i.test(value)) {\n        err = \"invalid instagram handle\";\n      }\n      break;\n\n    case \"joinMessage\":\n      if (typeof value !== \"string\") {\n        err = \"Joining information (joinMessage) is not a string\";\n      } else if (value.length > 255) {\n        err = `Joining information is too long by ${value.length - 255}`;\n      }\n      break;\n\n    case \"joinUrl\":\n      if (typeof value !== \"string\") {\n        err = \"Joining URL (joinUrl) is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `Joining URL is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid URL for joining\";\n      }\n      break;\n\n    default:\n  }\n\n  return err;\n};\n\nconst campErrors = (camp) => {\n  let errors = [];\n\n  [\n    \"year\",\n    \"name\",\n    \"identifies\",\n    \"about\",\n    \"location\",\n    \"url\",\n    \"facebook\",\n    \"email\",\n    \"twitter\",\n    \"instagram\",\n  ].map((f) => {\n    let err = fieldError(f, camp[f]);\n    if (err !== \"\") {\n      errors.push({\n        field: f,\n        err: err,\n      });\n    }\n  });\n\n  return errors;\n};\n\nconst tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\n// Thanks to:\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\nconst validateEmail = (email) => {\n  if (!email) return false;\n\n  if (email.length > 256) return false;\n\n  if (!tester.test(email)) return false;\n\n  // Further checking of some things regex can't handle\n  const [account, address] = email.split(\"@\");\n  if (account.length > 64) return false;\n\n  const domainParts = address.split(\".\");\n  if (\n    domainParts.some(function (part) {\n      return part.length > 63;\n    })\n  )\n    return false;\n\n  return true;\n};\n\nconst validateURL = (s) => {\n  let url;\n\n  try {\n    // TODO This is error on lambda because URL is unrecognized.\n    // No idea how we got this far tho\n    url = new URL(s);\n  } catch (_) {\n    return false;\n  }\n\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\n\nconst isFacebookURL = (s) => {\n  let url;\n\n  try {\n    url = new URL(s);\n  } catch (_) {\n    return false;\n  }\n\n  return [\"facebook.com\", \"www.facebook.com\", \"m.facebook.com\"].includes(\n    url.hostname\n  );\n};\n\n//\n// Encode a little bit of Burning Man cartography\n// If this function is confusing to you, look at a map of Black Rock City\n//\nconst crossStreets = (frontage) => {\n  if (frontage === streets[0] /* unknown */) {\n    return [streets[0]];\n  }\n  if (frontage.includes(\":\")) {\n    return streets.filter((s) => s === \"Esplanade\" || s.length === 1);\n  } else {\n    return streets.filter((s) => s.includes(\":\"));\n  }\n};\n\nconst locationToString = (frontage, intersection) => {\n  if (frontage === streets[0]) {\n    return streets[0];\n  } else if (frontage === \"Rod's Road\" || frontage === \"Center Camp Plaza\") {\n    // yeah. This is placement's convention because those circular streets\n    // don't really have intersections\n    return `${frontage} @ ${intersection}`;\n  } else {\n    return `${frontage} & ${intersection}`;\n  }\n};\n\nconst campIdentifications = [\n  \"LGBTQ\",\n  \"Lesbian / Female Identified\",\n  \"Gay / Male Identified\",\n  \"Trans / GNC / Non-binary\",\n  \"Ally Camp\",\n];\n\nconst streets = [\n  \"Unknown\",\n  \"Esplanade\",\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\",\n  \"G\",\n  \"H\",\n  \"I\",\n  \"J\",\n  \"K\",\n  \"L\",\n  \"M\",\n  \"Rod's Road\",\n  \"Center Camp Plaza\",\n  \"2:00\",\n  \"2:15\",\n  \"2:30\",\n  \"2:45\",\n  \"3:00\",\n  \"3:15\",\n  \"3:30\",\n  \"3:45\",\n  \"4:00\",\n  \"4:15\",\n  \"4:30\",\n  \"4:45\",\n  \"5:00\",\n  \"5:15\",\n  \"5:30\",\n  \"5:45\",\n  \"6:00\",\n  \"6:15\",\n  \"6:30\",\n  \"6:45\",\n  \"7:00\",\n  \"7:15\",\n  \"7:30\",\n  \"7:45\",\n  \"8:00\",\n  \"8:15\",\n  \"8:30\",\n  \"8:45\",\n  \"9:00\",\n  \"9:15\",\n  \"9:30\",\n  \"9:45\",\n  \"10:00\",\n];\n\nconst emptyCamp = {\n  name: \"\",\n  year: null,\n  identifies: campIdentifications[0],\n  about: \"\",\n  location: {\n    frontage: streets[0],\n    intersection: streets[0],\n  },\n  url: \"\",\n  facebook: \"\",\n  email: \"\",\n  twitter: \"\",\n  instagram: \"\",\n  thumbnail: \"\",\n  joinOpen: false,\n  joinMessage: \"\",\n  joinUrl: \"\",\n  offerMeals: false,\n  offerWater: false,\n  offerShowers: false,\n  campFee: false,\n  virginsWelcome: false,\n};\n\nconst hashEmail = (email) => {\n  if (email.length === 0) {\n    return \"\";\n  }\n  const hash = crypto.createHash(\"sha256\");\n  hash.update(email);\n  return hash.digest(\"base64\");\n};\n\nmodule.exports = {\n  fieldError: fieldError,\n  campErrors: campErrors,\n  campIdentifications: campIdentifications,\n  streets: streets,\n  crossStreets: crossStreets,\n  locationToString: locationToString,\n  hashEmail: hashEmail,\n  emptyCamp: emptyCamp,\n};\n"],"sourceRoot":""}